<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
   <meta charset="utf-8">
   <title>MyShades</title>
   <link rel="stylesheet" href="/styles/login.css">
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
   integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body>
   <div class="wrapper">
      <div class="title">Login</div>
      <!-- <%if(locals.message){%>
   <div class="alert alert-danger">
      <%=message%>
   </div>
      <%}%> -->
      <form action="/login" method="post" name="loginForm" onsubmit="return validateLoginForm()">
         <div class="field">
            <input name="email" type="text" value="nihal123@gmail.com" required>
            <label>Email Address</label>
         </div>
         <div class="field">
            <input name="password" type="password" value="Nihal@26" required>
            <label>Password</label>
         </div>
         <% if ( locals.message ){%>
            <div class="alert alert-danger text-center mt-5" role="alert">
                <%= locals.message %>
            </div>
            <%}%>
         <div class="field btn">
            <input type="submit" value="Login">
         </div>
         <div class="signup-link">
            Not a member? <a href="/register">Signup now</a>
         </div>
      </form>
   </div>

   <script>
      function validateLoginForm() {
    // Get form elements
    const email = document.forms["loginForm"]["email"].value;
    const password = document.forms["loginForm"]["password"].value;

    // Check if email and password are empty
    if (email.value.trim() === '') {
               emailError.innerHTML = 'Field is required'
               setTimeout(() => {
                  emailError.innerHTML = ''
               }, 5000)
               return false;
            }
            if (!emailRegex.test(email.value)) {
               emailError.innerHTML = "Please enter a valid email"
               setTimeout(() => {
                  emailError.innerHTML = ''
               }, 5000);
               return false;
            }
              // password feild
            if (password.value.trim() === '') {
               passwordError.innerHTML = 'Field is required'
               setTimeout(() => {
                  passwordError.innerHTML = ''
               }, 5000)
               return false;
            }
            if (!passwordRegex.test(password.value)) {
               passwordError.innerHTML = "Please enter a tight password"
               setTimeout(() => {
                  passwordError.innerHTML = ''
               }, 5000);
               return false;
            }
         

    return true; // Form is valid, proceed with submission
}

   </script>

</body>

</html>